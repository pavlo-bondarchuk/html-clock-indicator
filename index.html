<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Millclock ‚Äî Clock Settings</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="topbar">
      <div class="brand">
        <div class="logo-dot" aria-hidden="true"></div>
        <div class="brand-name">Millclock</div>
      </div>
      <h1 data-i18n="clockSettings">Clock Settings</h1>
      <div class="top-controls">
        <div
          id="themeSelect"
          class="theme-toggle"
          data-mode="light"
          data-label="Light"
        >
          <button
            id="themeToggle"
            type="button"
            aria-label="Toggle theme"
            aria-pressed="false"
          >
            <span class="icon sun" aria-hidden="true">
              <svg
                viewBox="0 0 24 24"
                width="20"
                height="20"
                fill="none"
                stroke="currentColor"
                stroke-width="1.6"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="5" />
                <line x1="12" y1="1.5" x2="12" y2="4" />
                <line x1="12" y1="20" x2="12" y2="22.5" />
                <line x1="4" y1="12" x2="1.5" y2="12" />
                <line x1="22.5" y1="12" x2="20" y2="12" />
                <line x1="5" y1="5" x2="3.3" y2="3.3" />
                <line x1="19" y1="19" x2="20.7" y2="20.7" />
                <line x1="5" y1="19" x2="3.3" y2="20.7" />
                <line x1="19" y1="5" x2="20.7" y2="3.3" />
              </svg>
            </span>
            <span class="icon moon" aria-hidden="true">
              <svg
                viewBox="0 0 24 24"
                width="20"
                height="20"
                fill="none"
                stroke="currentColor"
                stroke-width="1.6"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M15.5 2.5a9 9 0 1 0 6 15.49A10 10 0 0 1 15.5 2.5Z" />
              </svg>
            </span>
          </button>
        </div>
        <div class="select-icon-wrap">
          <span class="icon" aria-hidden="true">üåê</span>
          <select id="langSelect" aria-label="Language">
            <option value="en">English</option>
            <option value="de">Deutsch</option>
          </select>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="card card-clock">
        <div
          class="nixie"
          id="nixie"
          data-separator="blinking"
          data-show-seconds="false"
        >
          <div class="nixie-wrap">
            <img class="nixie-img" id="h1" src="assets/img/0.png" alt="hour1" />
          </div>
          <div class="nixie-wrap">
            <img class="nixie-img" id="h2" src="assets/img/0.png" alt="hour2" />
          </div>

          <div class="separator" id="sep">
            <div class="dot"></div>
          </div>

          <div class="nixie-wrap">
            <img class="nixie-img" id="m1" src="assets/img/0.png" alt="min1" />
          </div>
          <div class="nixie-wrap">
            <img class="nixie-img" id="m2" src="assets/img/0.png" alt="min2" />
          </div>

          <div class="separator sep-sec" id="sep2">
            <div class="dot"></div>
          </div>

          <div id="secWrap" class="sec-pair">
            <div class="nixie-wrap">
              <img
                class="nixie-img"
                id="s1"
                src="assets/img/0.png"
                alt="sec1"
              />
            </div>
            <div class="nixie-wrap">
              <img
                class="nixie-img"
                id="s2"
                src="assets/img/0.png"
                alt="sec2"
              />
            </div>
          </div>
        </div>

        <div id="nixie-date" class="nixie">
          <div class="nixie-wrap">
            <img class="nixie-img" id="d1" src="assets/img/0.png" alt="day1" />
          </div>
          <div class="nixie-wrap">
            <img class="nixie-img" id="d2" src="assets/img/0.png" alt="day2" />
          </div>
          <div class="separator date-sep"><div class="dot"></div></div>
          <div class="nixie-wrap">
            <img class="nixie-img" id="mo1" src="assets/img/0.png" alt="mon1" />
          </div>
          <div class="nixie-wrap">
            <img class="nixie-img" id="mo2" src="assets/img/0.png" alt="mon2" />
          </div>
          <div class="separator date-sep"><div class="dot"></div></div>
          <div class="nixie-wrap">
            <img class="nixie-img" id="y1" src="assets/img/0.png" alt="year1" />
          </div>
          <div class="nixie-wrap">
            <img class="nixie-img" id="y2" src="assets/img/0.png" alt="year2" />
          </div>
          <div class="year-block">
            <div class="nixie-wrap">
              <img
                class="nixie-img"
                id="y3"
                src="assets/img/0.png"
                alt="year3"
              />
            </div>
            <div class="nixie-wrap">
              <img
                class="nixie-img"
                id="y4"
                src="assets/img/0.png"
                alt="year4"
              />
            </div>
          </div>
        </div>
      </section>
      <!-- temperature overlay shown temporarily above nixie display -->
      <div id="tempOverlay" class="temp-overlay" aria-hidden="true"></div>

      <section class="dash">
        <article class="card block" id="blk-time">
          <div class="block-header">
            <h2 data-i18n="timeDate">Time & Date</h2>
            <p class="sub" data-i18n="timeDateSub">
              Set format, timezone and automatic adjustments.
            </p>
          </div>
          <div class="block-body">
            <div class="group" id="timeGroup">
              <h3 class="group-title" data-i18n="timeSection">Time</h3>
              <label class="field"
                ><span data-i18n="timeFormat">Time format</span>
                <select id="is24hSelect">
                  <option value="true" data-i18n="24hour">24-hour</option>
                  <option value="false" data-i18n="12hour">12-hour</option>
                </select>
              </label>
              <label class="field" id="leadingZeroField">
                <span data-i18n="leadingZero">Leading Zero</span>
                <div class="switch">
                  <input type="checkbox" id="leadingZero" /><span
                    class="slider"
                  ></span>
                </div>
              </label>
              <label class="field">
                <span data-i18n="showSeconds">Show seconds</span>
                <div class="switch">
                  <input type="checkbox" id="showSeconds" /><span
                    class="slider"
                  ></span>
                </div>
              </label>
              <label class="field"
                ><span data-i18n="timeZone">Time zone</span>
                <div style="display: flex; gap: 8px; align-items: center">
                  <select id="tzSelect" aria-label="UTC zones">
                    <!-- UTC offsets from -12 to +14 -->
                    <option value="UTC-12:00">UTC-12:00</option>
                    <option value="UTC-11:00">UTC-11:00</option>
                    <option value="UTC-10:00">UTC-10:00</option>
                    <option value="UTC-09:00">UTC-09:00</option>
                    <option value="UTC-08:00">UTC-08:00</option>
                    <option value="UTC-07:00">UTC-07:00</option>
                    <option value="UTC-06:00">UTC-06:00</option>
                    <option value="UTC-05:00">UTC-05:00</option>
                    <option value="UTC-04:00">UTC-04:00</option>
                    <option value="UTC-03:00">UTC-03:00</option>
                    <option value="UTC-02:00">UTC-02:00</option>
                    <option value="UTC-01:00">UTC-01:00</option>
                    <option value="UTC+00:00">UTC+00:00</option>
                    <option value="UTC+01:00">UTC+01:00</option>
                    <option value="UTC+02:00">UTC+02:00</option>
                    <option value="UTC+03:00">UTC+03:00</option>
                    <option value="UTC+04:00">UTC+04:00</option>
                    <option value="UTC+05:00">UTC+05:00</option>
                    <option value="UTC+06:00">UTC+06:00</option>
                    <option value="UTC+07:00">UTC+07:00</option>
                    <option value="UTC+08:00">UTC+08:00</option>
                    <option value="UTC+09:00">UTC+09:00</option>
                    <option value="UTC+10:00">UTC+10:00</option>
                    <option value="UTC+11:00">UTC+11:00</option>
                    <option value="UTC+12:00">UTC+12:00</option>
                    <option value="UTC+13:00">UTC+13:00</option>
                    <option value="UTC+14:00">UTC+14:00</option>
                  </select>
                </div>
              </label>
              <label class="field"
                ><span data-i18n="dst">Summer Time (DST)</span>
                <select id="dstMode">
                  <option value="off" data-i18n="dstOff">Off</option>
                  <option value="eu" data-i18n="dstEu">European</option>
                  <option value="us" data-i18n="dstUs">American</option>
                </select>
              </label>
              <label class="field"
                ><span data-i18n="separatorBehavior">Separator Behavior</span>
                <select id="separatorBehavior">
                  <option value="blinking" data-i18n="blinking">
                    Blinking
                  </option>
                  <option value="static" data-i18n="static">Static</option>
                  <option value="off" data-i18n="off">Off</option>
                </select>
              </label>
              <div class="field">
                <label
                  ><span data-i18n="setTime">Set Time</span>
                  <input type="time" id="timeInput"
                /></label>
              </div>
            </div>
            <div class="group" id="dateGroup">
              <h3 class="group-title" data-i18n="dateSection">Date</h3>
              <label class="field"
                ><span data-i18n="dateFormat">Date format</span>
                <select id="dateFormat">
                  <option value="DD-MM-YYYY" data-i18n="euDateFormat">
                    DD.MM.YYYY (EU)
                  </option>
                  <option value="MM-DD-YYYY" data-i18n="usDateFormat">
                    MM.DD.YYYY (US)
                  </option>
                </select>
              </label>
              <label class="field"
                ><span data-i18n="autoDateDisplay">Auto date display</span>
                <div class="switch">
                  <input type="checkbox" id="autoDateDisplay" /><span
                    class="slider"
                  ></span>
                </div>
              </label>
              <div class="field">
                <label
                  ><span data-i18n="setDate">Set Date</span>
                  <input type="date" id="dateInput"
                /></label>
              </div>
            </div>
          </div>
          <div class="block-actions">
            <button class="btn-ghost" id="tdReset" data-i18n="reset">
              Reset
            </button>
            <button class="btn-primary" id="tdApply" data-i18n="apply">
              Apply
            </button>
          </div>
        </article>

        <article class="card block" id="blk-light">
          <div class="block-header">
            <h2 data-i18n="displayLighting">Display & Lighting</h2>
            <p class="sub" data-i18n="displayLightingSub">
              Adjust brightness, colors, animations and effects.
            </p>
          </div>
          <div class="block-body two">
            <label class="field"
              ><span data-i18n="tubeBrightness">Tube Brightness</span>
              <input
                id="brightness"
                type="range"
                min="10"
                max="100"
                value="90"
              />
            </label>
            <label class="field">
              <span data-i18n="tubeGlow">Tube Glow</span>
              <input
                id="glowIntensity"
                type="range"
                min="0"
                max="100"
                value="70"
              />
            </label>
            <label class="field">
              <span data-i18n="tubeGlowColor">Tube Glow Color</span>
              <input id="ledColor" type="color" value="#ff6600" />
            </label>
            <label class="field">
              <span data-i18n="transition">Transition</span>
              <select id="transitionSelect">
                <option value="none">None</option>
                <option value="smooth">Smooth</option>
                <option value="fade">Fade</option>
                <option value="slide">Slide</option>
              </select>
            </label>
            <label class="field">
              <span data-i18n="transitionSpeed">Transition Speed (ms)</span>
              <input
                id="transitionSpeed"
                type="range"
                min="50"
                max="2000"
                value="300"
              />
            </label>
            <!-- placeholder to force a new row so night controls sit together -->
            <div class="field" aria-hidden="true"></div>
            <!-- Show temperature moved to Modes & Safety -->
            <label class="field">
              <span data-i18n="nightStart">Night start</span>
              <input id="nightStart" type="time" value="23:00" />
            </label>
            <label class="field">
              <span data-i18n="nightEnd">Night end</span>
              <input id="nightEnd" type="time" value="07:00" />
            </label>
            <label class="field"
              ><span data-i18n="autoDim">Auto-dim at night</span>
              <div class="switch">
                <input type="checkbox" id="nightMode" /><span
                  class="slider"
                ></span>
              </div>
              <small class="hint" data-i18n="autoDimHint"
                >Night Mode reduces brightness on schedule</small
              >
            </label>
          </div>
          <div class="block-actions">
            <button class="btn-ghost" id="lightRevert" data-i18n="revert">
              Revert
            </button>
            <button
              class="btn-primary"
              id="lightApply"
              data-i18n="applyLighting"
            >
              Apply Lighting
            </button>
          </div>
        </article>

        <article class="card block" id="blk-net">
          <div class="block-header">
            <h2 data-i18n="connectivity">Connectivity</h2>
            <p class="sub" data-i18n="connectivitySub">
              Wi-Fi setup and Internet synchronization.
            </p>
          </div>
          <div class="block-body two">
            <label class="field"
              ><span data-i18n="wifiSSID">Wi-Fi SSID</span>
              <input id="ssid" type="text" placeholder="Your network name" />
            </label>
            <label class="field"
              ><span data-i18n="wifiPass">Wi-Fi Password</span>
              <div class="password">
                <input id="wpass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
                <button type="button" id="passToggle" class="ghost">üëÅ</button>
              </div>
            </label>
            <label class="field"
              ><span data-i18n="inetTimeSync">Internet time sync</span>
              <div class="switch">
                <input type="checkbox" id="ntpEnable" /><span
                  class="slider"
                ></span>
              </div>
            </label>
            <label class="field"
              ><span data-i18n="timeServer">Time server (optional)</span>
              <input id="ntpServer" type="text" placeholder="pool.ntp.org" />
            </label>
          </div>
          <div class="block-actions">
            <button class="btn-ghost" id="netTest" data-i18n="test">
              Test
            </button>
            <button class="btn-primary" id="netSave" data-i18n="saveWifi">
              Save Wi-Fi
            </button>
          </div>
        </article>

        <article class="card block" id="blk-alarm">
          <div class="block-header">
            <h2 data-i18n="soundAlarms">Sound & Alarms</h2>
            <p class="sub" data-i18n="soundAlarmsSub">
              Chimes, alarms and tones.
            </p>
          </div>
          <div class="block-body two">
            <label class="field"
              ><span data-i18n="hourlyChime">Hourly chime</span>
              <div class="switch">
                <input type="checkbox" id="hourlyChime" /><span
                  class="slider"
                ></span>
              </div>
            </label>
            <label class="field">
              <span data-i18n="hourlyMelody">Hourly melody</span>
              <select id="hourlyMelody">
                <option value="none">None</option>
                <option value="beep">Beep</option>
                <option value="chime1">Chime 1</option>
                <option value="chime2">Chime 2</option>
              </select>
            </label>
            <label class="field"
              ><span data-i18n="alarmTime">Alarm time</span>
              <input id="alarmTime" type="time" value="07:30" />
            </label>
            <label class="field"
              ><span data-i18n="days">Days</span>
              <select id="alarmDays">
                <option value="monfri" data-i18n="monFri">Mon‚ÄìFri</option>
                <option value="daily" data-i18n="daily">Daily</option>
                <option value="weekends" data-i18n="weekends">Weekends</option>
                <option value="off" data-i18n="off">Off</option>
              </select>
            </label>
            <label class="field">
              <span data-i18n="alarmMelody">Alarm melody</span>
              <select id="alarmMelody">
                <option value="beep">Beep</option>
                <option value="tone1">Tone 1</option>
                <option value="tone2">Tone 2</option>
              </select>
            </label>
            <label class="field"
              ><span data-i18n="volume">Volume</span>
              <input id="volume" type="range" min="0" max="100" value="40" />
            </label>
          </div>
          <div class="block-actions">
            <button class="btn-ghost" id="soundTest" data-i18n="testSound">
              Test Sound
            </button>
            <button class="btn-primary" id="alarmSave" data-i18n="saveAlarm">
              Save Alarm
            </button>
          </div>
        </article>

        <article class="card block" id="blk-modes">
          <div class="block-header">
            <h2 data-i18n="modesSafety">Modes & Safety</h2>
            <p class="sub" data-i18n="modesSafetySub">
              Protect your tubes and tailor the experience.
            </p>
          </div>
          <div class="block-body two">
            <label class="field"
              ><span data-i18n="slotMachineAntiPoisoning"
                >Slot Machine (anti-poisoning)</span
              >
              <div class="switch">
                <input type="checkbox" id="slotMachine" /><span
                  class="slider"
                ></span>
              </div>
            </label>
            <label class="field"
              ><span data-i18n="slotInterval">Slot interval (min)</span>
              <input
                id="slotInterval"
                type="number"
                min="1"
                max="120"
                value="30"
              />
            </label>
            <label class="field"
              ><span data-i18n="tempUnits">Temperature units</span>
              <select id="units">
                <option value="c">¬∞C</option>
                <option value="f">¬∞F</option>
              </select>
            </label>
            <label class="field"
              ><span data-i18n="showTemp">Show temperature</span>
              <div style="display: flex; gap: 8px; align-items: center">
                <div class="switch">
                  <input type="checkbox" id="showTemp" /><span
                    class="slider"
                  ></span>
                </div>
                <input
                  id="tempValue"
                  type="number"
                  value="22"
                  style="width: 80px"
                />
              </div>
            </label>
          </div>
          <div class="block-actions">
            <button class="btn-ghost" id="modesDefaults" data-i18n="defaults">
              Defaults
            </button>
            <button class="btn-primary" id="modesApply" data-i18n="applyModes">
              Apply Modes
            </button>
          </div>
        </article>

        <article class="card block" id="blk-system">
          <div class="block-header">
            <h2 data-i18n="system">System</h2>
            <p class="sub" data-i18n="systemSub">
              Firmware, device name and maintenance.
            </p>
          </div>
          <div class="block-body two">
            <label class="field"
              ><span data-i18n="deviceName">Device name</span>
              <input
                id="deviceName"
                type="text"
                placeholder="ZIN-70-LivingRoom"
              />
            </label>
            <label class="field"
              ><span data-i18n="autoUpdates">Auto updates</span>
              <div class="switch">
                <input type="checkbox" id="autoUpdates" /><span
                  class="slider"
                ></span>
              </div>
            </label>
            <label class="field"
              ><span data-i18n="firmware">Firmware</span>
              <input id="firmware" type="text" value="v1.0.0" readonly />
            </label>
            <div class="field">
              <div class="btn-row">
                <button class="btn-ghost" id="checkFw" data-i18n="checkFw">
                  Check for updates
                </button>
                <button
                  class="btn-ghost"
                  id="factoryReset"
                  data-i18n="eraseRestart"
                >
                  Erase & Restart
                </button>
              </div>
            </div>
          </div>
        </article>
      </section>

      <section class="card">
        <div class="footer-actions">
          <button class="btn-ghost" id="cancelAll" data-i18n="cancel">
            Cancel
          </button>
          <button class="btn-primary" id="saveBtn" data-i18n="saveAll">
            Save All
          </button>
          <span class="toast" id="toast"></span>
        </div>
      </section>

      <button id="backToTop" aria-label="Back to top" title="Back to top">
        <svg
          viewBox="0 0 24 24"
          width="22"
          height="22"
          fill="none"
          stroke="currentColor"
          stroke-width="3"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
          focusable="false"
        >
          <polyline points="6 14 12 8 18 14"></polyline>
        </svg>
      </button>
    </main>

    <footer class="footer" id="footerBrand">¬© Millclock</footer>
    <script src="script.js"></script>
  </body>
</html>

<!-- Wheel picker overlay for iOS-like time scroller (used for time inputs) -->
<div id="wheelPicker" class="wheel-picker" aria-hidden="true">
  <div class="wheel-backdrop" data-action="cancel"></div>
  <div
    class="wheel-sheet"
    role="dialog"
    aria-modal="true"
    aria-label="Time picker"
  >
    <div class="wheel-header">
      <button id="wheelCancel" type="button" class="btn-ghost">Cancel</button>
      <div class="wheel-title">Set time</div>
      <button id="wheelConfirm" type="button" class="btn-primary">Set</button>
    </div>
    <div class="wheel-body">
      <div class="wheel-column" data-type="hours" aria-hidden="false">
        <ul></ul>
      </div>
      <div class="wheel-sep">:</div>
      <div class="wheel-column" data-type="minutes">
        <ul></ul>
      </div>
      <div class="wheel-column wheel-ampm" data-type="ampm" aria-hidden="true">
        <ul>
          <li data-value="AM">AM</li>
          <li data-value="PM">PM</li>
        </ul>
      </div>
    </div>
  </div>
</div>
